<h1>Your Cashflow</h1>

<%= link_to 'Add Cashflow', new_cashflow_path, class: "btn btn-outline-secondary btn-sm me-2"  %>


<%= form_with url: import_records_path, local: true, method: :post, multipart: true do |form| %>
  <div>
    <%= form.label :bank, "Select Bank" %><br>
    <%= form.select :bank, [['SEB', 'seb'], ['Swedbank', 'swedbank']], prompt: 'Choose a bank', required: true %>
  </div>
  <div>
    <%= form.label :file, "Upload CSV File" %><br>
    <%= form.file_field :file, required: true %>
  </div>
  <%= form.submit "Upload", class: "btn btn-outline-secondary btn-sm me-2" %>
<% end %>

<div class="table-responsive ">
<table class="table">
  <thead>
  <tr>
    <th>Amount</th>
    <th>Description</th>
    <th>Date</th>
    <th>Credit/Debit</th>
    <th>Type</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
  <% @cashflows.each do |cashflow| %>
    <tr>
      <td><%= cashflow.amount %></td>
      <td class="table-responsive text-truncate" style="max-width: 200px;" ><%= cashflow.description %></td>
      <td ><%= cashflow.date %></td>
      <td><%= cashflow.credit_debit %></td>
      <td><%= cashflow.type_name %></td>
      <td>
        <div class="d-flex">
        <%= link_to "Edit", edit_cashflow_path(cashflow), class: "btn btn-outline-secondary btn-sm me-2" %>
        <%= button_to 'Delete', cashflow_path(cashflow), class: "btn btn-outline-secondary btn-sm me-2", method: :delete, data: { confirm: 'Are you sure you want to delete this cashflow?' } %>
        </div>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>
</div>



